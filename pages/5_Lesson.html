<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Pygame</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<link rel="stylesheet" type="text/css" href="css/styles.css"/>
<script src="js/navbar.js" type="text/javascript"></script>
<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono|Ubuntu' rel='stylesheet' type='text/css'>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
<script src="js/navbar.js" type="text/javascript"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Pygame</h1>
  <div class="github-fork-ribbon-wrapper left">
    <div class="github-fork-ribbon">
      <a href="https://github.com/stsb11/9-CS-pyGame">Fork me on GitHub</a>
    </div>
  </div>
<div id="stickyribbon">
    <ul>
      <li><a href="1_Lesson.html">Week1</a></li>
      <li><a href="2_Lesson.html">Week2</a></li>
      <li><a href="3_Lesson.html">Week3</a></li>
      <li><a href="4_Lesson.html">Week4</a></li>
      <li><a href="5_Lesson.html">Week5</a></li>
      <li><a href="6_Lesson.html">Week6</a></li>
      <li><a href="7_Lesson.html">Week7</a></li>
      <li><a href="8_Lesson.html">Week8</a></li>
      <li><a href="9_Lesson.html">Week9</a></li>
      <li><a href="assessment.html">Assessment</a></li>
    </ul>
  </div>

<div id="underlay" onclick="underlayoff()">
</div>
<div id="overlay" onclick="overlayoff()">
</div>
<div id=overlayMenu>
<p onclick="overlayon('hsla(0, 0%, 50%, 0.5)')">Grey overlay</p>
<p onclick="underlayon('hsla(300,100%,50%, 0.3)')">Pink</p>
<p onclick="underlayon('hsla(80, 90%, 40%, 0.4)')">Green</p>
<p onclick="underlayon('hsla(240,100%,50%,0.2)')">Blue</p>
<p onclick="underlayon('hsla(40,100%,50%,0.3)')">Cream</p>
<p onclick="underlayon('hsla(300,100%,40%,0.3)')">Liliac</p>
<p onclick="underlayon('hsla(300,100%,25%,0.3)')">Purple</p>
<p onclick="underlayon('hsla(60,100%,50%,0.3)')">Yellow</p>
</div>
<div id="outline-container-sec-1" class="outline-2 objectives">
<h2 id="sec-1">Objectives</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-sec-1-1" class="outline-3 learn">
<h3 id="sec-1-1">Developing <b>Programming and Development</b> (learning strand), specifically:</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>Understand the concept of <b>Sprites</b> and how they can used as game objects.
</li>
<li>Understand and use variables to change to keep track of the X and Y coordinates of a sprite.
</li>
<li>Understand the process of painting the screen with image(s) known as <b>Bit Blitting</b> or <b>Blit</b>.
</li>
<li>Understand how to use X, Y coordinates to position and re-size a sprite.
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2 activity">
<h2 id="sec-2">Images</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-sec-2-1" class="outline-3 code">
<h3 id="sec-2-1">Download It</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>Start by picking up a fresh copy of the pyGame template file to use in this lesson, and save it in the directory you've been using for this topic: 
</li>
<li><a href="./doc/pygameDevTemplate.py">Right click and save as - for a fresh template</a>
</li>
<li>Create a folder called <b>Images</b> in your pygame folder.
</li>
<li>Right click on the image below and save it in your new <b>Images</b> folder
</li>
</ul>

<div class="figure">
<p><img src="./img/gimp2.png" alt="gimp2.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3 learn">
<h3 id="sec-2-2">Learn It</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>Basic shapes is a good starting point, but images are much more fun.
</li>
<li>Using images as <a href="https://en.wikipedia.org/wiki/Sprite_(computer_graphics)">sprites</a> is very simple in pyGame.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3 try">
<h3 id="sec-2-3">Try It</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>The process for using an image in pyGame is as follows:
</li>
</ul>
<pre class="example">
Load the image into memory
Create a variable to hold the sprite's X and Y position on the screen

BEGIN GAME LOOP
    Set new X and Y coordinates for the image
    Display the image on the screen
</pre>

<ul class="org-ul">
<li>The graphic(s) we wish to load only need to be loaded into the computer's memory once. 
</li>
<li>If we loaded the file from the computer's hard drive 60 times a second, we would get very poor game performance.
</li>
<li>The process of painting the screen with our loaded image(s) is called <i>bit blitting</i>, or just '<a href="https://en.wikipedia.org/wiki/Bit_blit">blit</a>' for short. 
</li>
<li>Start by adding this code above the <b>gameState = running</b> line.
</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">player1Image</span> = pygame.image.load(<span style="color: #8b2252;">"gimp2.png"</span>)
<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">player1XY</span> = [<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">100</span>, <span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">100</span>]
</pre>
</pre>
</div>

<ul class="org-ul">
<li>Then add these lines under <b># your code starts here</b> to display (blit) the image on the screen:
</li>
<li><b>NOTE:</b> Make sure these lines are <b>double-indented</b>, otherwise they won't work.
<div class="org-src-container">

<pre class="src src-python">screen.fill(black)
<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">player1</span> = screen.blit(player1Image, player1XY)
</pre>
</pre>
</div>
</li>
<li>We now have a static image. To make it a little more interactive, let's  make the sprite follow the mouse. Weâ€™ve done this before but we are going to improve our method. 
</li>
<li>Add these two line underneath the <b>player1 = screen.blit(player1Image, player1XY)</b> line (<i>Don't forget to double-indent!</i>):
</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">mousePosition</span> = pygame.mouse.get_pos()
<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">player1XY</span> = mousePosition[<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">0</span>], mousePosition[<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">1</span>]
</pre>
</pre>
</div>
<ul class="org-ul">
<li>What do you think this is doing?
</li>
<li>Your code will now look something like this:
</li>
</ul>

<div class="figure">
<p><img src="./img/5-3.png" alt="5-3.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-2-4" class="outline-3 try">
<h3 id="sec-2-4">Try It</h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li>Our game is coming along, but we've a few improvements that are needed to make this better.
<ul class="org-ul">
<li>The mouse cursor isn't centred on the image,
</li>
<li>The mouse cursor is visible, which looks unsightly,
</li>
<li>The image is a little large. 
</li>
</ul>
</li>
<li>Let's deal with the re-sizing of the image first. We can handle this at the top of our program, before we start our game loop. Our method will be:
</li>
</ul>
<pre class="example">
Store the size we want for the image in a variable 
Use pygame.image.transform to resize the image.
</pre>
<ul class="org-ul">
<li>Add these lines of code to the top of your program, under <code>player1XY = [100, 100]</code> over at line 18 (these lines don't need to be indented):
</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">player1ImageSizeXY</span> = [<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">80</span>, <span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">60</span>]
<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">player1Image</span> = pygame.transform.scale(player1Image, player1ImageSizeXY)
</pre>
</pre>
</div>
<ul class="org-ul">
<li>The code will read something like this:
</li>
</ul>

<div class="figure">
<p><img src="./img/5-4.PNG" alt="5-4.PNG" />
</p>
</div>
<ul class="org-ul">
<li>As we know the size of the image, we can use this to correct the mouse point position from our bug list. Consider the image below, which shows the current situation in our PyGame window, but with some dimensions drawn over the top of logo and the mouse pointer:
</li>
</ul>

<div class="figure">
<p><img src="./img/5-6.png" alt="5-6.png" />
</p>
</div>
<ul class="org-ul">
<li>The image is currently being drawn on the screen starting at (120, 90) which is where the mouse pointer is. This is the top-left corner of the image. 
</li>
<li>To get the image to centre up, we need to tell PyGame to draw the image a bit further to the left, and a bit further up. How much, though?
</li>
<li>The width of our image (in pixels) is always stored in the variable called <b>player1ImageSizeXY[]</b>. When we want the X position, we use <b>player1ImageSizeXY</b> and when we want the Y position, we use <b>player1ImageSizeXY</b>. 
</li>
<li>Just thinking about the X position first, we need to draw the image at where the mouse currently is (<i>On the X axis; 120 pixels across in this example</i>), then&#x2026;
</li>
<li>Half the width of the image over to the left (<i>50 pixels in this case</i>). 
</li>
<li>The same idea applies to the Y axis.
</li>
<li>Our formula is:
</li>
</ul>
<pre class="example">
new X Position = Mouse X position - (width of the image / 2)
new Y Position = Mouse Y position - (height of the image / 2)
</pre>
<ul class="org-ul">
<li>So in the example from the image, it'd be:
</li>
</ul>
<pre class="example">
new X Position = Mouse X position - (width of the image / 2)
new X Position = 120 - (100 / 2) = 120-50 = 70

new Y Position = Mouse Y position - (height of the image / 2)
new Y Position = 90 - (100 / 2) = 90 - 50 = 40
</pre>
<ul class="org-ul">
<li>To deal with this for any mouse position, we'll need this algorithm, which uses the variables available in our program:
</li>
</ul>
<pre class="example">
newXPosition = mousePosition[0] - (player1ImageSizeXY[0] / 2)
newYPosition = mousePosition[1] - (player1ImageSizeXY[1] / 2)
player1XY = newXPosition, newYPosition

DRAW PLAYER1 AT LOCATION player1XY
</pre>
<ul class="org-ul">
<li>Around line 32 in your program, you'll have a line of code saying:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">player1XY</span> = mousePosition[<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">0</span>], mousePosition[<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">1</span>]
</pre>
</pre>
</div>
<ul class="org-ul">
<li>Remove this line, and replace it with our improved version:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">newXPosition</span> = mousePosition[<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">0</span>] - (player1ImageSizeXY[<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">0</span>] / <span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">2</span>)
<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">newYPosition</span> = mousePosition[<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">1</span>] - (player1ImageSizeXY[<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">1</span>] / <span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">2</span>)
<span style="font-family: Monaco,monospace,sans-serif; color: #000000; background-color: #ffffff;">player1XY</span> = newXPosition, newYPosition
</pre>
</pre>
</div>
<ul class="org-ul">
<li>Run your code, and test that the image is now centred on the mouse pointer.
</li>
<li>If you're unsure of any of the steps above, a video tutorial running through this lesson can be seen below. 
</li>
</ul>
<iframe width="650" height="393" src="https://www.youtube.com/embed/GIH4srUh-7I" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div id="outline-container-sec-2-5" class="outline-3 badge">
<h3 id="sec-2-5">Badge It</h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li><b>Silver:</b> Add comments to your code, describing how using image size is useful in correcting the mouse pointer position.
</li>
<li><b>Gold:</b> Replace the image below as your sprite, remembering that it has a different aspect ratio, so you'll need to adjust the size of the image to ensure it doesn't look squashed. Explain in a text file why is it better to store the image X and Y size in variables. 
</li>
</ul>

<div class="figure">
<p><img src="./doc/bird1.png" alt="bird1.png" />
</p>
</div>
<ul class="org-ul">
<li><b>Platinum:</b> Use <a href="https://www.gimp.org/">gimp2</a> to cut out an image from either of the sprite sheets below and add an <a href="https://en.wikipedia.org/wiki/Alpha_compositing">alpha</a> layer. Use this as your player image instead.
</li>
</ul>
<p>
<img src="./doc/birdSprites.png" alt="birdSprites.png" />
<img src="./doc/MarioSprites.png" alt="MarioSprites.png" />
</p>
<ul class="org-ul">
<li>A video tutorial on using alpha in Gimp can be found below.
</li>
</ul>
<iframe width="650" height="393" src="https://www.youtube.com/embed/lhKtGxxESKo" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>